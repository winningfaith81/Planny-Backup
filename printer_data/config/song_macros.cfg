########################################################################
## Printer Music!!! 
## Taken From: https://github.com/majarspeed/Profiles-Gcode-Macros/tree/main/Beeper%20tunes
########################################################################

[gcode_macro M300]
gcode:
	{% set S = params.S|default(1000)|int %}
	{% set P = params.P|default(100)|int %}

		SET_PIN PIN=BEEP_PIN VALUE=0.8 CYCLE_TIME={ 1.0/S if S > 0 else 1 }
		G4 P{P}
		SET_PIN PIN=BEEP_PIN VALUE=0

#[gcode_macro M300]
#gcode:
#    {% set tones = [1000, 1500, 2000, 2500, 3000, 2500, 2000, 1500, 1000] %} ; S sets the tone frequency
#    {% for count in tones %}
#    {% set cytime = 1 / count %}
#    
#        SET_PIN PIN=BEEP_PIN VALUE={0.1} CYCLE_TIME={cytime} ;Play tone
#        G4 P50 ;tone duration
#        SET_PIN PIN=BEEP_PIN VALUE=0
#    {% endfor %}

[gcode_macro BEEP]
gcode:
    # Parameters
    {% set i = params.I|default(1)|int %}           ; Iterations (number of times to beep).
    {% set dur = params.DUR|default(100)|int %}     ; Duration/wait of each beep in ms. Default 100ms.
    {% set freq = params.FREQ|default(2000)|int %}  ; Frequency in Hz. Default 2kHz.

    {% for iteration in range(i|int) %}
        SET_PIN PIN=BEEP_PIN VALUE=0.1 CYCLE_TIME={ 1.0/freq if freq > 0 else 1 }
        G4 P{dur}
        SET_PIN PIN=BEEP_PIN VALUE=0
        G4 P{dur}
    {% endfor %}

#[gcode_macro TOGGLE_BEEPER]
#description: Toggle the printer beeper on and off.
#gcode:
#	{% set beeper_state = printer.save_variables.variables.beeper_state|lower %}
#
#	{% if printer['gcode_macro _USER_VARIABLE'].debug == 1 %}
#		{action_respond_info('==== TOGGLE_BEEPER ====')}
#		{action_respond_info("beeper_state: %s" % (beeper_state))}
#		{action_respond_info('===============')}
#	{% endif %}
#
#	{% if beeper_state == "off" %}
#		{action_respond_info('beeper is off, turning it on')}
#		SAVE_VARIABLE VARIABLE=beeper_state VALUE='"on"'
#	{% else %}
#		{action_respond_info('beeper is on= turning it off')}
#		SAVE_VARIABLE VARIABLE=beeper_state VALUE='"off"'
#	{% endif %}
#	SONG_SINGLE_BEEP


#[gcode_macro SONG_SINGLE_BEEP]
#gcode:
#	M300 S830.61 P137

[gcode_macro DO_MELODY]
gcode:
  {% set melody =   [1000, 1500, 1750, 2000, 1500, 2000] %}
  {% set duration = [ 200,  100,  250,  200,  100,  100] %}
  {% for note in melody %}
    SET_PIN PIN=BEEP_PIN VALUE=0.9 CYCLE_TIME={1 / note}
    G4 P{duration[loop.index-1]}
    SET_PIN PIN=BEEP_PIN VALUE=0
  {% endfor %} 
  SET_PIN PIN=BEEP_PIN VALUE=0

########################################################################
## Beeper Songs
########################################################################


[gcode_macro SONG_LOONEY]
gcode:
	M300 S2093 P428
	M300 S2793 P214
	M300 S2637 P214
	M300 S2349 P214
	M300 S2093 P214
	M300 S880 P642
	M300 S2093 P214
	M300 S2793 P214
	M300 S2637 P214
	M300 S2349 P214
	M300 S2489 P214
	M300 S2637 P642
	M300 S2637 P214
	M300 S2637 P214
	M300 S2093 P214
	M300 S2349 P214
	M300 S2093 P214
	M300 S2637 P214
	M300 S2093 P214
	M300 S2349 P214
	M300 S880 P214
	M300 S2093 P214
	M300 S1567 P214
	M300 S932 P214
	M300 S880 P214
	M300 S1396 P214

[gcode_macro SONG_NARUTO]
gcode:
	M300 P311 S659
	M300 P151 S247
	M300 P60 S247
	M300 P91 S0
	M300 P56 S247
	M300 P91 S0
	M300 P61 S247
	M300 P91 S0
	M300 P264 S659
	M300 P35 S0
	M300 P150 S740
	M300 P60 S247
	M300 P91 S0
	M300 P147 S784
	M300 P60 S247
	M300 P92 S0
	M300 P309 S740
	M300 P151 S220
	M300 P60 S220
	M300 P91 S0
	M300 P56 S220
	M300 P91 S0
	M300 P61 S220
	M300 P91 S0
	M300 P299 S587
	M300 P150 S220
	M300 P60 S220
	M300 P91 S0
	M300 P56 S220
	M300 P91 S0
	M300 P60 S220
	M300 P92 S0
	M300 P309 S659
	M300 P151 S247
	M300 P60 S247
	M300 P91 S0
	M300 P56 S247
	M300 P91 S0
	M300 P61 S247
	M300 P91 S0
	M300 P264 S659
	M300 P30 S0
	M300 P155 S740
	M300 P60 S247
	M300 P91 S0
	M300 P147 S784
	M300 P60 S247
	M300 P90 S0
	M300 P311 S880
	M300 P151 S220
	M300 P60 S220
	M300 P91 S0
	M300 P56 S220
	M300 P91 S0
	M300 P61 S220
	M300 P84 S0
	M300 P302 S220
	M300 P155 S220
	M300 P60 S220
	M300 P87 S0
	M300 P60 S220
	M300 P91 S0
	M300 P60 S220
	M300 P90 S0
	M300 P82 S659
	M300 P229 S1047
	M300 P151 S196
	M300 P60 S196
	M300 P91 S0
	M300 P56 S196
	M300 P91 S0
	M300 P61 S196
	M300 P84 S0
	M300 P271 S1047
	M300 P30 S0
	M300 P155 S1175
	M300 P60 S196
	M300 P87 S0
	M300 P151 S1047
	M300 P60 S196
	M300 P90 S0
	M300 P311 S988
	M300 P151 S220
	M300 P60 S220
	M300 P91 S0
	M300 P113 S880
	M300 P34 S0
	M300 P118 S784
	M300 P34 S0
	M300 P264 S740
	M300 P30 S0
	M300 P153 S784
	M300 P149 S82
	M300 P267 S880
	M300 P34 S0
	M300 P163 S988
	M300 P148 S82
	M300 P151 S82
	M300 P151 S98
	M300 P147 S92

[gcode_macro SONG_STARWARS_IMP]
gcode:
	M300 S1174 P401
	M300 S1174 P401
	M300 S1174 P401
	M300 S466 P267
	M300 S1396 P133
	M300 S1174 P401
	M300 S466 P267
	M300 S1396 P133
	M300 S1174 P803


[gcode_macro SONG_MARIO]
gcode:
	M300 S1046 P150
	M300 S1318 P150
	M300 S1567 P150
	M300 S2093 P150
	M300 S2637 P150
	M300 S3135 P400
	M300 S2637 P400
	M300 S1046 P150
	M300 S1244 P150
	M300 S1661 P150
	M300 S2093 P150
	M300 S2489 P150
	M300 S3322 P400
	M300 S2489 P400
	M300 S1174 P150
	M300 S1396 P150
	M300 S932 P150
	M300 S2349 P150
	M300 S2793 P150
	M300 S1864 P150
	M300 S0 P400
	M300 S1864 P120
	M300 S0 P60
	M300 S1864 P120
	M300 S0 P60
	M300 S1864 P120
	M300 S0 P60
	M300 S4186 P900 

[gcode_macro SONG_MARIO2]
gcode:
	M300 P214 S659
	M300 P210 S659
	M300 P219 S0
	M300 P210 S659
	M300 P219 S0
	M300 P214 S523
	M300 P357 S659
	M300 P72 S0
	M300 P357 S784
	M300 P500 S0
	M300 P357 S392
	M300 P500 S0
	M300 P150 S392
	M300 P150 S587
	M300 P150 S587
	M300 P147 S440
	M300 P153 S0
	M300 P150 S587
	M300 P550 S494
	M300 P200 S0
	M300 P150 S587
	M300 P150 S494
	M300 P150 S523
	M300 P250 S587
	M300 P50 S0
	M300 P150 S392
	M300 P150 S587
	M300 P150 S587
	M300 P147 S440
	M300 P153 S0
	M300 P150 S587
	M300 P550 S494
	M300 P951 S0
	M300 P150 S392
	M300 P150 S587
	M300 P150 S587
	M300 P147 S440
	M300 P153 S0
	M300 P150 S587
	M300 P550 S494
	M300 P200 S0
	M300 P150 S587
	M300 P150 S494
	M300 P150 S523
	M300 P250 S587
	M300 P50 S0
	M300 P150 S392
	M300 P150 S587
	M300 P150 S587
	M300 P147 S440
	M300 P153 S0
	M300 P150 S587
	M300 P550 S494
	M300 P951 S0
	M300 P150 S587
	M300 P150 S523
	M300 P150 S587
	M300 P147 S494
	M300 P153 S0
	M300 P150 S587
	M300 P825 S784
	M300 P675 S0
	M300 P150 S587
	M300 P150 S523
	M300 P150 S587
	M300 P147 S494
	M300 P153 S0
	M300 P150 S587
	M300 P825 S523
	M300 P675 S0
	M300 P150 S587
	M300 P150 S523
	M300 P150 S587
	M300 P147 S494
	M300 P153 S0
	M300 P150 S587
	M300 P825 S784
	M300 P675 S0
	M300 P150 S880
	M300 P150 S784
	M300 P150 S880
	M300 P147 S784
	M300 P153 S0
	M300 P150 S988
	M300 P825 S784
	M300 P675 S0
	M300 P2001 S131
	M300 P250 S330
	M300 P245 S330
	M300 P756 S0
	M300 P250 S330
	M300 P250 S330
	M300 P125 S330
	M300 P125 S330
	M300 P250 S349
	M300 P245 S349
	M300 P756 S0
	M300 P250 S349
	M300 P250 S349
	M300 P125 S349
	M300 P125 S349
	M300 P250 S392
	M300 P245 S392

[gcode_macro SONG_TAKEONME]
gcode:
	M300 S932 P150
	M300 S932 P150
	M300 S932 P150
	M300 S1479 P300
	M300 S1244 P300
	M300 S1661 P300
	M300 S1661 P300
	M300 S1661 P150
	M300 S2093 P150
	M300 S2093 P150
	M300 S2217 P150
	M300 S2489 P150
	M300 S2217 P150
	M300 S2217 P150
	M300 S2217 P150
	M300 S1661 P300
	M300 S1479 P300
	M300 S932 P300
	M300 S932 P300
	M300 S932 P150
	M300 S1661 P150
	M300 S1661 P150
	M300 S932 P150
	M300 S1661 P150
	M300 S932 P150
	M300 S932 P150
	M300 S932 P150
	M300 S1479 P300
	M300 S1244 P300
	M300 S1661 P300
	M300 S1661 P300
	M300 S1661 P150
	M300 S2093 P150
	M300 S2093 P150
	M300 S2217 P150
	M300 S2489 P150
	M300 S2217 P150
	M300 S2217 P150
	M300 S2217 P150
	M300 S1661 P300
	M300 S1479 P300
	M300 S932 P300
	M300 S932 P300

[gcode_macro SONG_THUNDERSTRUCK]
gcode:
	M300 S987 P166
	M300 S2489 P166
	M300 S987 P166
	M300 S2959 P166
	M300 S987 P166
	M300 S2489 P166
	M300 S987 P166
	M300 S2959 P166
	M300 S987 P166
	M300 S2489 P166
	M300 S987 P166
	M300 S2959 P166
	M300 S987 P166
	M300 S2959 P166
	M300 S987 P166
	M300 S2959 P166
	M300 S2637 P166
	M300 S987 P166
	M300 S1760 P166
	M300 S987 P166
	M300 S2637 P166
	M300 S987 P166
	M300 S1760 P166
	M300 S987 P166
	M300 S2637 P166
	M300 S987 P166
	M300 S1760 P166
	M300 S987 P166
	M300 S2637 P166
	M300 S987 P166
	M300 S1760 P166

